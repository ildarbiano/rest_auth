В данном интенсиве будет 1 вебинар. 
Вы получите доступ к курсу на корпоративной платформе Basecode, где будут материалы к интенсиву.
В тг создана ссылка на чат, общий для всех интенсивов: https://t.me/+PtqjrExYs5RkNmYy 
-------------------------------------------------------------------------------------
https://basecode.t1.ru/viewer/sessions/6020/quizzes/1034 
https://basecode.t1.ru/viewer/sessions/6020/materials/12633
вебинар Безопасность и системный ананлиз https://dion.vc/video/864eab22-f3c0-42cb-a751-57f2717f4dc4?ref_uid=4fa0a022-9be1-4520-9fba-24391f18a066
-------------------------------------------------------------------------------------
Дядюра Сергей Станиславович SDyadyura@inno.tech Отдел образовательных проектов	Цифровая академия
Баранова Анна Делмуховна adbaranova@inno.tech	Отдел архитектуры и аналитики	Центр архитектуры и обеспечения качества
========================================================================================================================
Основы архитектурного стиля REST.API (не SOAP.API стиль) использует 	HTTP(S), но не только, - могут быть:
									WebSockets - сетевой протокол, обеспечивающий двустороннюю связь между клиентом и сервером в реальном времени. В отличие от традиционного HTTP-протокола, WebSocket не требует повторного открытия соединения для каждой передачи данных. или используются:
									самописные протоколы.
================ REST API Pooling ==========================================================
передача состояния представления.
REST (Representational State Transfer) — архитектурного стиля взаимодействия между клиентом и сервером через HTTP. Принципы архитектуры REST API определяют структуру взаимодействия между клиентом и сервером, а также позволяют расширять функциональность клиента. Некоторые из них:
		 Client-Server. Клиент-серверная архитектура. Клиент запрашивает данные, а сервер их предоставляет. Такое разделение улучшает масштабируемость системы и позволяет клиентам работать независимо от серверной логики. 
		 Stateless. Отсутствие состояния. Каждый запрос от клиента к серверу обрабатывается независимо от предыдущих запросов. Сервер не хранит информацию о состоянии клиента, что упрощает обработку запросов и повышает отказоустойчивость системы. Request содержит полноту запроса, т.к. сервис не хранит историю.
		Cacheable. Кеширование. Ответы сервера могут кэшироваться, чтобы снизить нагрузку на сервер и ускорить загрузку данных. REST поддерживает механизмы кеширования, которые позволяют клиентам повторно использовать ранее полученные данные. 
		 Uniform Interface. Единообразие интерфейса. Все ресурсы REST должны иметь чёткую структуру и единообразные URL-адреса. Запросы к API выполняются с использованием стандартных методов HTTP, а данные передаются в предсказуемых форматах, таких как JSON или XML. 
		 Layered System. Система уровней, Слои. REST может включать несколько уровней, таких как балансировщики нагрузки, прокси-серверы и системы аутентификации. Каждый уровень выполняет свою функцию и не зависит от других, что повышает надёжность и гибкость системы. Означает, что сервер разделён на несколько слоёв, каждый из которых выполняет свою задачу. Например: 
		-	один слой может отвечать за обработку запросов;
		-	другой — за аутентификацию;
		-	третий — за обработку базы данных и так далее. , Code on Demand
		Code on Demand. Возможность выполнения кода по требованию. Хотя этот принцип не является обязательным, REST может поддерживать загрузку и выполнение кода на стороне клиента, например в виде скриптов или небольших программ. опционально. Сервер может отправлять исполнимый код (например, JavaScript) на клиент для выполнения. Это позволяет: 
		-	Временно расширить или настроить функциональность клиента — вместо отправки просто данных сервер может передавать логику. 
		-	Передавать целые сценарии — например, динамические элементы пользовательского интерфейса, выполненные на JavaScript. 

Sync/Async взаимодействие

-------------- Cookie (куки) -----------------------------------------------------------
— это небольшие фрагменты данных, которые веб-сайт сохраняет на устройстве пользователя (компьютере, смартфоне, планшете) при его посещении. Некоторые функции cookie:
		Персонализация интерфейса. Сайты запоминают язык, тему оформления, регион, валюту и другие пользовательские настройки.
		Аутентификация и безопасность. Cookie позволяют сохранять состояние входа в систему, чтобы не приходилось вводить логин и пароль каждый раз. Также они помогают отслеживать подозрительную активность и предотвращать несанкционированный доступ.
		Аналитика и статистика. Инструменты, такие как Google Analytics или Яндекс.Метрика, используют cookie для сбора данных о посещениях: сколько пользователей зашло, какие страницы они смотрели и сколько времени провели на сайте.
		Рекламный таргетинг. На основе куки-файлов рекламные сети показывают персонализированную рекламу — ту, которая потенциально может заинтересовать пользователя.

--------------- webhook => url --------------------------------------------------------
— это механизм автоматической отправки данных между приложениями при наступлении определённого события. Простыми словами, это способ одной программы сказать другой: «Эй, тут кое-что произошло, думаю, тебе стоит об этом знать!». В отличие от традиционного API, где клиент постоянно отправляет запросы, вебхуки позволяют серверу сразу уведомлять получателя при возникновении события. Механизм вебхука можно описать тремя шагами: 
	Событие:			в приложении-источнике.
	Сервис отправляет HTTP-запрос: 	на заранее указанный URL — это и есть вебхук-адрес. Чаще всего используется метод POST, данные передаются в теле запроса в формате JSON, XML или form-encoded.
	Приложение-получатель:		принимает этот HTTP-запрос, обрабатывает данные и обычно возвращает технический ответ (статус «200 OK»).



================ Структура REST.API request ======================================================
Стартовая строка (Request Line):
PUT		- тип метода
https://	- протокол
vtb.ru/		- домен
/ui-api-mi/	- каталог API
/kib/		- название сервиса или папки
/v1/		- версия
/project/	- endpoint
/{id}		- path param

Версонированинность:
	частоиспользуемый:	
		/v1/users или
		/api/v3/order
	через заголовки:
		Accept: application/vnd.myapi.v1+json или кастомный заголовок 
		X-API-Version:2
	через параметры запроса: 
		/users?version=1 или 
		/api/resource?api-version=2
	контентное: application/vnd.example.v1+json
Обратная совместимость (backward compability) -это способность системы взаимодействовать с предыдущими версиями API, данных или программного обеспечения. Например, новое обновление сервиса должно работать с клиентами, которые используют старую версию API.

------------- headers ---------------------------------------------------------------------
не являются частью URL-адреса (endpoint), но содержат дополнительную информацию о запросе и ответе. Заголовки — это метаданные, которые передаются в HTTP-коммуникации, и они включены в сообщения запроса и ответа, отдельно от фактического содержимого запроса и ответа. Заголовки Headers — это пары «ключ-значение», где ключ — строка, описывающая тип информации, а значение — фактические данные. 
Структура REQUEST:
	Header:
		Host: example.com
		User Agent: Mozilla/5.0			-идентифицирует программное обеспечение клиента, отправляющего запрос;
		Authorization: Bearer abc123...		-используется для передачи информации об аутентификации, например, токена доступа или ключа API.
		X-API-Key:				—это нестандартный HTTP-заголовок, который используется для аутентификации и авторизации запросов к API. Он представляет собой уникальный идентификатор, связанный с клиентом API, и передаётся в запросе вместе с другими данными. В некоторых случаях ключ передаётся в GET-параметре, например, ?apikey=
		Content-Type: application/ json		-указывает на формат тела запроса
				JSON
					Легче и компактнее
					Проще читать и разбирать
					Быстрее парсится
					Стандарт де факто для REST
				XML
					Сложные документные структуры
					Богатые схемы	
					Наследие и стандарты
		Query params:	(параметры запроса) это часть URL, которая позволяет передавать дополнительные данные серверу для фильтрации, сортировки, пагинации и других операций. Они добавляются в конец URL после знака вопроса ? и разделяются амперсандами &.
			Пагинация			GET .../puppies?page=2&per_page=20
			Фильтрация данных		GET .../puppies?breed=yorkshire
			Сортировка			GET .../puppies?sort=age_asc
			Поиск				GET .../puppies?search=query
			Авторизация и аутентификация 	GET .../puppies?token=abc123
			URL				GET .../puppies?url=yandex.ru
		Path params:
	Body:
		API-Key:

================ Структура RESPONSE ==========================================================
	Статусная строка (Status Line):
		Code HTTP		200 OK
			Код статуса 	(200) значение, которое говорит об успехе или ошибке
			Текст статуса 	( OK) пояснение к коду.
		Версия протокола 	HTTP/1.1.
	Header:	
		Content-Type:	тип данных в теле ответа.
		Server:		какое ПО работает на сервере.
		Set-Cookie:	куки, которые сервер просит сохранить
	Body:
		{
		"id":1
		"name": “Бруно",
		“age ": 14
		}
МЕТОДЫ: 
	POST	-Применяется для создания нового ресурса на сервере. Данные отправляются в теле запроса.
	PUT	-Используется для полного обновления существующего ресурса. Сервер полностью заменяет существующий ресурс на новый.
	PATCH	-Предназначен для частичного обновления ресурса. В отличие от метода PUT, который полностью заменяет ресурс, PATCH позволяет изменять только указанные поля, оставляя остальные нетронутыми.
	GET	-Используется для запроса информации о ресурсе. Не изменяет данные на сервере, многократные идентичные запросы дают одинаковый результат. Использование ключа API-Key в GET-параметре, например, ?apikey=
	OPTIONS	-запрашивает разрешённые варианты коммуникации для данного URL или сервера. Он не используется для манипуляций с ресурсами, но полезен для: 
		...Проверки разрешённых HTTP-методов для ресурса.
		...Получения информации о поддерживаемых заголовках и других возможностях.
		...Тестирования доступности API без выполнения реальных операций.
		...Предполётных запросов (preflight) в механизме CORS (Cross-Origin Resource Sharing) для кросс-доменных взаимодействий. Браузер автоматически отправляет preflight OPTIONS-запрос перед «сложными» кросс-доменными запросами.
	HEAD	-Запрашивает метаданные ресурса в виде заголовков, но не возвращает фактическое содержание ресурса (тело ответа). Это позволяет получить метаданные, не загружая сам контент. Особенности:
		...Безопасный — не изменяет состояние сервера. 
		...Идемпотентный — многократные идентичные запросы дают одинаковый результат.
	DELETE	-Применяется для удаления ресурса. При получении DELETE-запроса сервер удаляет указанный ресурс (например, запись, файл, элемент).

----------------- CRUD: Create-Read-Update-Delete -------------------------------------------
Функции методов. Каждый метод выполняет определённое действие и соответствует принципам:	
	
----------------- Идемпотентность (idempotency) в контексте REST API ------------------------
— это свойство некоторых HTTP-методов, при котором повторные идентичные запросы имеют тот же эффект, что и один запрос. Для реализации идемпотентности в REST API используются, например:
		Заголовок Idempotency-Key — клиент генерирует для каждой операции уникальный ключ и передаёт его в заголовке. Сервер, видя повторный ключ, не выполняет операцию заново, а возвращает сохранённый результат.
		Уникальные бизнес-ключи — от клиента требуется передача уникального идентификатора операции в теле запроса (например, transactionId). Сервер проверяет уникальность этого ключа в базе данных перед выполнением операции.
	
==================== коды HTTP ответов ===================================
200 ОК
201 Создано
204 Нет контента
206 Частичное содержимое
--------- ошибки клиента -----------------
400 Плохой запрос
401 Не авторизован
403 Доступ запрещен
404 Не найдено
409 Конфликт
429 Слишком много запросов
--------- ошибки сервера -----------------
500 Внутренняя ошибка сервера
502 Плохой шлюз
503 Сервер не доступен
504 Таймаут шлюза

===================== Swagger ===================================================
			— это набор инструментов с открытым исходным кодом для разработки, документирования и тестирования API. Он помогает разработчикам создавать, описывать и проверять программные интерфейсы, делая их понятными для разработчиков и конечных пользователей. Swagger работает на основе спецификации OpenAPI, которая описывает структуру API: маршруты, методы, параметры и ответы. 
Функции:
	Автоматическая генерация документации. 		-для API на основе спецификации OpenAPI. Включает информацию о доступных методах, параметрах, типах данных и возвращаемых значениях. 
	Визуализация API 				-отображение методов, параметров, запросов и ответов в удобном интерфейсе. 
	Тестирование API 				-возможность вызывать методы прямо из браузера. 
	Генерация кода					-создание клиентских SDK, серверных заглушек и DTO по спецификации. 
	Поддержка версионности				-удобное управление версиями API и изменениями. 

Компоненты. Некоторые инструменты Swagger:
	Swagger Editor 			— онлайн-редактор для написания документации в формате OpenAPI (YAML или JSON).
	Swagger UI 			— визуальный интерфейс для просмотра и тестирования API в браузере.
	Swagger Codegen 		— генератор клиентского кода и серверных заглушек на различных языках программирования.
	Swagger Inspector 		— инструмент для автоматической генерации спецификаций API на основе реальных запросов.


